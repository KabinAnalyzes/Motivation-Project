{% extends "base.html" %}

{% block content %}
<body>
<br>
<br>
<h1 class="quote-box">
  {{ quote }} 
  {{ author }}
</h1>
          <div class="todo-box">
                <br>
                <form action="/add" method="post">
                    <label for="Todo Item"></label>
                    <input type="text" name="title" id="Item" placeholder="Todo Item" required>
        
                    <label for="category"></label>
                    <input type="text" name="category" id="category" placeholder="Category" required>

                    <label for="due" ></label>
                    <p>Due Date:</p>
                    <input type="date" name="due" id="due" placeholder="Due Date">

                    <hr>

                    <input style="font-family: 'Poppins',sans-serif; font-size: 16px; font-weight: 600;" type="submit" value="Add">
        
                </form>
          </div>
      </form>
      </h2>
    
      
      
      <div class="blank-div"></div>
<div class="todo-contain" >
      {% for todo in todo_list %}
      <div class="bordered-div">
          <p class="ui big header"> Task: {{ todo.title }} <br> Category: {{todo.category}} <hr> Date Added: {{ todo.date_created }} <br> Due Date: {{ todo.due_date }}</p>

          <br>
          {% if todo.complete == False %}
          <span class="incomplete-div">Not Complete</span>
          {% else %}
          <span class="complete-div">  Completed  </span>
          {% endif %}
          <div class="blank-div"></div>
          

          <a class="ui blue button" href="/update/{{ todo.id }}">Update</a>
          <a class="ui red button" href="/delete/{{ todo.id }}">Delete</a>
      </div>
      <br>
      {% endfor %}
  </div>
</div>
<div class="calendar">
  <form action="/update_date" method="POST">
    <div class="input-wrapper">
    <label for="date">Select a date:</label>
    <input type="date" id="date" name="date">
    <br>
      <input type="submit" value="Submit">
    </div>
  </form>
    <div class="simple-button">
      <button style="font-family: 'Poppins',sans-serif; font-size: 16px; font-weight: 600; border-radius: 10px; padding:10px;" onclick="redirectToPage()">See all items</button>

      <script>
        function redirectToPage() {
          window.location.href = "/todo";  
        }
      </script>
    </div>

    
</div>
<div class="plant">
  {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="celebration">
                {{ messages[0] }}
            </div>
        {% endif %}
        {% endwith %}
  <p>Plants Grown: {{ plant_stats }} </p>
</body>
{% endblock %}